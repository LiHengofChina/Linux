
//=================================================================== ip route
//=================================================================== ip route


root@aqjxsh ~# ip route
default via 172.24.0.254 dev ens18 metric 104
			   // 默认网关是 172.24.0.254，走 ens18 这个网卡出网
			   // 所有外网流量，都走这个网关、走这个网卡。

169.254.0.0/16 dev ens18 scope link metric 1002
172.24.0.0/24  dev ens18 proto kernel scope link src 172.24.0.222
172.27.43.0/24 dev docker0 proto kernel scope link src 172.27.43.1 linkdown
172.28.43.0/24 dev br-c22e4be14251 proto kernel scope link src 172.28.43.1



//================================================================ IP子网
//================================================================ IP子网

169.254.0.0/16、172.24.0.0/24、172.27.43.0/24、172.28.43.0/24

这些都是 "网段"（IP子网）。

169.254.0.0/16	
				//链路本地自动分配IP范围（APIPA），当DHCP失败时系统自动生成

172.24.0.0/24	
				//你当前局域网内的主网段，IP范围是 172.24.0.1 ~ 172.24.0.254，
				//你机器IP也在这个段内

172.27.43.0/24	
				//Docker 创建的内部容器网段

172.28.43.0/24	
				//另一个 Docker 桥接网段（比如 docker-compose、网络自定义时产生的网桥）

//================================================================
//================================================================

172.24.0.0/24 dev ens18
				//发往 172.24.0.0/24 网段的流量，走 ens18 这块网卡。


proto kernel scope link src 172.24.0.222
		//proto kernel	路由来源于内核，说明这条路由是因为网卡配置IP地址后自动生成的
		//scope link	路由作用范围是“链路本地”，表示只能通过本地直连，不经过网关
		//src 172.24.0.222	发送这条路由上的流量时，默认使用本机这个源IP地址

//================================================================
//================================================================

就是说这台位置可以和4个子网通信

		169.254.0.0/16 是一个特殊用途的子网，叫做 “链路本地地址段”（Link-Local）
					//当机器开机找不到 DHCP 服务器时，系统会自动分配一个 169.254.x.x 的IP，
					//保证局域网内还能通信（比如点对点）
					//❌ 无法通过这个网段上互联网，只能本地局域网内通信
					/**
					两台机器插网线直连，没有DHCP，也没手动设IP
					👉 它们会自动获得类似 169.254.x.x 的IP
					👉 能互ping，但上不了网
					*/
		到 172.24.0.0/24 网段，自身 IP是 172.24.0.222， 走 ens18 网卡
		到 172.27.43.0/24 网段，自身 IP是 172.27.43.1	走 docker0 网卡
		到 172.28.43.0/24 网段，自身 IP是 172.28.43.1	走 br-c22e4be14251 网卡


	/**
			这3个网段内的机器，本机都可以直连，不用经过网关
			如果发往别的网段（比如互联网IP），就会通过 默认网关 172.24.0.254 出去
	*/


//================================================================ 能 ping 通 172.24.1.101
//================================================================ 能 ping 通 172.24.1.101


172.24.1.101

你机器IP：172.24.0.222（在 172.24.0.0/24 网段）

对方IP：172.24.1.101（在 172.24.1.0/24 网段）




